{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","style","onChange","handleChange","value","searchPerson","PersonForm","styles","onSubmit","addPerson","handleNameChange","newPerson","required","handlePhoneChange","newPhone","type","Person","person","deletePerson","name","number","onClick","baseUrl","personsService","getAll","axios","get","then","response","data","create","post","id","delete","status","update","put","Notification","message","notificationStyle","success","color","border","backgroundColor","info","App","useState","persons","setPersons","setNewPerson","setNewPhone","setSearchPerson","searchedPersons","setSearchedPersons","setMessage","useEffect","resetMessage","setState","setTimeout","deletePersonOf","window","confirm","filter","item","catch","personsFinded","RegExp","test","personsToShow","length","e","target","preventDefault","samePerson","toLocaleLowerCase","personToUpdate","map","error","newPersonObject","concat","err","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.86c1c26e.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = (props) => {\n  const styles = {\n    'marginBottom': '10px',\n    'marginTop': '10px'\n  }\n\n  return(\n    <div>\n      <span>filter shown with: \n        <input style={styles} onChange={props.handleChange} value={props.searchPerson} />\n      </span>\n    </div>\n  )\n}\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = (props) => {\n  const styles = {\n    'marginBottom': '10px',\n    'marginTop': '10px'\n  }\n  return (\n    <form onSubmit={props.addPerson}>\n      <h2>Add a new:</h2>\n      <p>\n        <label>Name: </label>\n        <input style={styles} onChange={props.handleNameChange} value={props.newPerson} required />\n      </p>\n      <p>\n        <label>Number: </label>\n        <input style={styles} onChange={props.handlePhoneChange} value={props.newPhone} required />\n      </p>\n      <button style={styles} type='submit'>Add contact</button>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","import React from 'react';\n\n\nconst Person = ({ person, deletePerson }) => {\n  const liStyle = {\n    'marginBottom': '10px',\n    'marginTop': '10px',\n    'fontSize': '18px',\n    'color': '#2e2e2e'\n  }\n  const buttonStyle = {\n    'marginLeft': '10px'\n  }\n  return (\n    <li style={liStyle}>\n        {person.name}, {person.number} \n      <button style={buttonStyle} onClick={() => deletePerson(person)}>DELETE</button>\n    </li>\n  )\n};\n\n\nexport default Person;\n","import axios from 'axios';\n\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  const promise = axios.get(baseUrl);\n  return promise.then(response => response.data);\n}\n\nconst create = newPerson => {\n  const promise = axios.post(baseUrl, newPerson);\n  return promise.then(response => response.data);\n}\n\nconst deletePerson = id => {\n  const promise = axios.delete(`${baseUrl}/${id}`);\n  return promise.then(response => response.status);\n}\n\nconst update = (id, newPerson) => {\n  const promise = axios.put(`${baseUrl}/${id}`, newPerson);\n  return promise.then(response => response.data);\n}\n\nconst personsService = {\n  getAll,\n  create,\n  deletePerson,\n  update\n}\n\nexport default personsService;\n\n","const Notification =({message}) => {\n  let notificationStyle = {\n    'padding': '10px',\n    'color': 'green',\n    'border': 'green 2px solid',\n    'borderRadius': '15px',\n    'margin': '15px 0',\n    'fontSize': '20px',\n    'backgroundColor': 'rgb(237, 255, 233)'\n  }\n  if(!message.success) {\n    notificationStyle.color = 'red';\n    notificationStyle.border = '#ff4040 2px solid'\n    notificationStyle.backgroundColor = 'rgb(255, 250, 250)'\n\n  }\n  if (!message.info) return null;\n  return(\n    <div style={notificationStyle}>\n      {message.info}\n    </div>\n  )\n}\n\nexport default Notification;\n","import React, { useEffect, useState } from 'react';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Person from './components/Person';\nimport personsService from './services/persons';\nimport Notification from './components/Notification';\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([]);\n  const [newPerson, setNewPerson] = useState('');\n  const [newPhone, setNewPhone] = useState('');\n  const [searchPerson, setSearchPerson] = useState('');\n  const [searchedPersons, setSearchedPersons] = useState([]);\n  const [message, setMessage] = useState({info: null});\n\n  useEffect(() => {\n    const handleRes = data => setPersons(data);\n    personsService.getAll().then(handleRes);\n  }, []);\n\n  const resetMessage = setState => setTimeout(() => setState({info: null}), 3500);\n  \n  const addPerson = (e) => {\n    e.preventDefault();\n    const samePerson = persons.filter(({ name }) => {\n      return name.toLocaleLowerCase() === newPerson.toLocaleLowerCase();\n    });\n    if (samePerson.length > 0) {\n      const personToUpdate = samePerson[0];\n      const isSure = window.confirm(`${personToUpdate.name} is already added to Phonebook, replace the old number with a new one?`);\n      \n      if (!isSure) return;\n      const handleRes = data => {\n        setMessage({ info: `Updated ${data.name} phone`, success: true});\n        setPersons(persons.map(item => item.id === data.id ? data : item));\n        resetMessage(setMessage);\n      }\n      personsService.update(personToUpdate.id, { ...personToUpdate, number: newPhone })\n        .then(handleRes)\n        .catch((error) => {\n          if(error.response.data.name === 'ValidationError') {\n            setMessage({\n              info: error.response.data.error,\n              success: false\n            });\n            resetMessage(setMessage);\n            return;\n          }\n          setMessage({ \n            info: `Information of ${personToUpdate.name} has been already removed from the server`, \n            success: false});\n          resetMessage(setMessage);\n          setPersons(persons.filter(item => item.id !== personToUpdate.id));\n        });\n    } else {\n      const newPersonObject = {\n        name: newPerson,\n        number: newPhone\n      }\n      personsService.create(newPersonObject)\n        .then((data) => {\n          setMessage({ info: `Added ${data.name}`, success: true});\n          setPersons(persons.concat(data));\n          resetMessage(setMessage);\n        })\n        .catch(err => setMessage({ info: err.response.data.error, success: false}))\n    }\n    setNewPerson('');\n    setNewPhone('');\n  }\n\n  const handleNameChange = (e) => setNewPerson(e.target.value);\n  const handlePhoneChange = (e) => setNewPhone(e.target.value);\n  const handleSearchChange = (e) => setSearchPerson(e.target.value);\n\n  const deletePersonOf = (person) => {\n    const handleRes = (status) => {\n      if(status === 204) {\n        setPersons(persons.filter(item => item.id !== person.id))\n      }\n    }\n    const isSure = window.confirm(`Are you sure that you want delete ${person.name} contact`);\n    if(isSure){\n      personsService.deletePerson(person.id).then(handleRes).catch(() => {\n        setMessage({ info: `the contact ${person.name} non exist on the server`, success: false});\n        resetMessage(setMessage);\n        setPersons(persons.filter(item => item.id !== person.id));\n      });\n    }\n  }\n\n  const hookSearch = () => {\n    const personsFinded = persons.filter(({ name }) => {\n      const regExp = new RegExp(searchPerson, 'gi');\n      return regExp.test(name);\n    });\n    setSearchedPersons(personsFinded);\n  }\n  useEffect(hookSearch, [searchPerson, persons]);\n\n  const personsToShow = searchedPersons.length > 0 ? searchedPersons : persons;\n  return (\n    <>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Filter \n      handleChange={handleSearchChange} \n      searchPerson={searchPerson}\n      />\n\n      <PersonForm\n        addPerson={addPerson}\n        handleNameChange={handleNameChange}\n        handlePhoneChange={handlePhoneChange}\n        newPerson={newPerson}\n        newPhone={newPhone}\n      />\n      <h2>Numbers</h2>\n      <ul>\n        {personsToShow.map(item => {\n          return(\n            <Person \n              key={item.id} \n              person={item}\n              deletePerson={deletePersonOf} />\n          )\n        })}\n      </ul>\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(<App/>, document.getElementById('root'));"],"sourceRoot":""}